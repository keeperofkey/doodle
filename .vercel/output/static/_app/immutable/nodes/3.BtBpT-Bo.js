import{s as u,n as $}from"../chunks/scheduler.BvLojk_z.js";import{S as w,i as h,e as S,o as b,c as P,k as C,p as W,h as p,b as k,d as A,q as H,t as L,f as z,r as G}from"../chunks/index.ijGnfrI7.js";import{S as I,G as R,M as D,A as q,W as F,a as j,P as B,b as T,C as V,c as Y}from"../chunks/meshopt_decoder.module.B4E2A3GH.js";function J(c){let e,t,n,i,o,r;const d=document.getElementById("three"),f=document.getElementById("splat");f.style.display="none",d.style.display="block";const g=new Y;function x(){t=new I,new R().setPath("models/").setMeshoptDecoder(D).load("mesh-one-anim-24.glb",function(a){a.scene.up.set(0,0,1),i=a.animations,e=a.cameras[0],o=new q(a),r=o.clipAction(i[0],e),a.scene.children[0].children[0],e.aspect=window.innerWidth/window.innerHeight,e.updateProjectionMatrix(),r.play(),r.paused=!0,document.addEventListener("scroll",y),window.addEventListener("resize",M),t.add(a.scene),m()}),n=new F({canvas:d,antialias:!0}),n.setPixelRatio(window.devicePixelRatio),n.setSize(window.innerWidth,window.innerHeight),n.toneMapping=j,n.toneMappingExposure=1,n.domElement.style.position="fixed",n.domElement.style.top="0",n.domElement.style.zIndex="-1";const s=new B(n),l=new T;l.position.set(0,0,0),t.add(l),t.background=new V(4126537205),t.environment=s.fromScene(t).texture}function y(){let s=window.scrollY/(document.body.scrollHeight-window.innerHeight);s=((a,v,E)=>Math.min(Math.max(a,v),E))(s,0,.99),r.time=s*r.getClip().duration}function M(){e.aspect=window.innerWidth/window.innerHeight,e.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}function m(){requestAnimationFrame(m);const s=g.getDelta();o.update(s),_()}function _(){n.clear(),n.render(t,e)}return x(),[]}class K extends w{constructor(e){super(),h(this,e,J,null,u,{})}}function N(c){let e,t,n;return t=new K({}),{c(){e=S("div"),b(t.$$.fragment),this.h()},l(i){e=P(i,"DIV",{class:!0});var o=C(e);W(t.$$.fragment,o),o.forEach(p),this.h()},h(){k(e,"class","container svelte-5oaak8")},m(i,o){A(i,e,o),H(t,e,null),n=!0},p:$,i(i){n||(L(t.$$.fragment,i),n=!0)},o(i){z(t.$$.fragment,i),n=!1},d(i){i&&p(e),G(t)}}}class X extends w{constructor(e){super(),h(this,e,null,N,u,{})}}export{X as component};
